---
// Este es el archivo de tu navbar en Astro
---

<header class="text-white fixed top-0 px-7 py-2 w-full z-50">
    <div
        id="NavbarRedondo"
        class="flex flex-col items-center justify-between bg-black rounded-full px-10 xl:flex-row"
    >
        <!-- Logo y nombre institucional -->
        <div class="flex items-center justify-between w-full xl:w-1/3">
            <div class="flex items-center">
                <img
                    src="/logo.png"
                    alt="Logo Institucional UAS"
                    class="h-full w-14"
                />
                <img
                    src="/logo_quimica.png"
                    alt="Logo Institucional Facultad Quimica UAS"
                    class="h-full w-14"
                />
            </div>
            <a href="#Hero" class="font-semibold text-nowrap">Redes Neuronales</a>

            <!-- Botón Hamburguesa para pantallas pequeñas -->
            <button
                id="hamburger-btn"
                class="xl:hidden text-white focus:outline-none"
            >
                <svg
                    class="w-6 h-6"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <!-- Links de navegación centrados (ocultos en pantallas pequeñas) -->
        <nav
            id="nav-links"
            class="bg-black font-semibold hidden flex flex-col text-4xl items-center space-y-5 py-5 xl:space-y-0 xl:py-0 xl:flex-row xl:flex xl:space-x-5 xl:text-lg xl:justify-center xl:w-full xl:bg-none"
        >
            <a
                href="#Hero"
                class="nav-link text-white/50 hover:text-white duration-200"
                >Inicio</a
            >
            <a
                href="#Docker"
                class="nav-link text-white/50 hover:text-white duration-200"
                >Docker</a
            >
            <a
                href="#Tutorial"
                class="nav-link text-white/50 hover:text-white duration-200"
                >Tutorial</a
            >
            <a
                href="#Referencias"
                class="nav-link text-white/50 hover:text-white duration-200"
                >Referencias</a
            >
        </nav>
    </div>
</header>

<!-- Agrega tu script aquí al final de la sección -->
<script type="module">
    // Función para mostrar/ocultar el menú
    document.getElementById("hamburger-btn").addEventListener("click", () => {
        const navLinks = document.getElementById("nav-links");
        const navbarRedondo = document.getElementById("NavbarRedondo");
        navLinks.classList.toggle("hidden"); // Mostrar/ocultar el menú

        // Cambiar las clases para el desplegable
        if (navLinks.classList.contains("hidden")) {
            navLinks.classList.remove("block");
            navbarRedondo.classList.add("rounded-full");
        } else {
            navLinks.classList.add("block");
            navbarRedondo.classList.remove("rounded-full");
        }
    });

    // Función para cerrar el menú al hacer clic en un enlace
    const navLinks = document.querySelectorAll("#nav-links a");
    navLinks.forEach((link) => {
        link.addEventListener("click", () => {
            const navMenu = document.getElementById("nav-links");
            navMenu.classList.add("hidden"); // Ocultar el menú al hacer clic en un enlace
        });
    });

    // Función para cambiar la clase activa
    function handleScroll() {
        const sections = document.querySelectorAll("section");
        const navLinks = document.querySelectorAll(".nav-link");

        let currentSection = "";

        sections.forEach((section) => {
            const rect = section.getBoundingClientRect();
            if (rect.top <= 300 && rect.bottom >= 0) {
                currentSection = section.id;
            }
        });

        navLinks.forEach((link) => {
            if (link.getAttribute("href").substring(1) === currentSection) {
                link.classList.add("text-white"); // Resalta el enlace activo
                link.classList.remove("text-white/50");
            } else {
                link.classList.add("text-white/50");
                link.classList.remove("text-white");
            }
        });
    }

    // Añadir evento de scroll
    window.addEventListener("scroll", handleScroll);

    // Establecer la clase activa al cargar la página
    window.addEventListener("load", handleScroll);
</script>
